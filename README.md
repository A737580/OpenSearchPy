# OpenSearchPy

**OpenSearchPy** - —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **OpenSearch**, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ:
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å —Å –ø–æ–ª—è–º–∏:
  - `title` (—Ç–µ–∫—Å—Ç)
  - `content` (—Ç–µ–∫—Å—Ç)
  - `content_type` (–æ–¥–Ω–æ –∏–∑ 4 –∑–Ω–∞—á–µ–Ω–∏–π)
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –≤ –∏–Ω–¥–µ–∫—Å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.
- –ò—Å–∫–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É –≤ `title` –∏ `content`.
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å –ø–æ–ª—è–º–∏:
  - `title`
  - `snippet` ‚Äî –ø–µ—Ä–≤—ã–µ 50 —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ `content`
- –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ `content_type`.

___

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
```txt
- Python 3.13
- FastAPI
- Faker
- OpenSearch Python Client
- Uvicorn
- Docker / Docker Compose
- OpenSearch (—á–µ—Ä–µ–∑ Docker)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```txt
‚îú‚îÄ‚îÄ core
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models.py              # –ú–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ opensearch_client.py   # –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å OpenSearch
‚îú‚îÄ‚îÄ main.py                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îú‚îÄ‚îÄ docker-compose.yml         # –ó–∞–ø—É—Å–∫ OpenSearch –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/A737580/openSearchPy.git
cd openSearchPy
```

### 2. –ó–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ Docker Compose

```bash
docker-compose up -d
```

### 3. –ó–∞–ø—É—Å–∫–∞–µ–º Web-—Å–µ—Ä–≤–µ—Ä

```bash
python main.py
```

–≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç:

* OpenSearch
* OpenSearch Dashboards (–ø–æ –∞–¥—Ä–µ—Å—É [http://localhost:5601](http://localhost:5601))
* FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ –∞–¥—Ä–µ—Å—É [http://localhost:8000](http://localhost:8000))


## üì° –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

```http
POST /load_data
    –û–ø–∏—Å–∞–Ω–∏–µ: –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Opensearch –ø–æ 5 —à—Ç –∑–∞ –∑–∞–ø—Ä–æ—Å
GET /search
    Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
      - query: str ‚Äî –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞
      - content_type: str ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    –û—Ç–≤–µ—Ç:
      [
        {
          "title": "Example",
          "snippet": "Lorem ipsum dolor sit amet, conse..."
        }
      ]
GET    /docs           
        –û–ø–∏—Å–∞–Ω–∏–µ: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è swagger - –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–ø–∏
GET    /http://localhost:5601
        –û–ø–∏—Å–∞–Ω–∏–µ: OpenSearch Dashboards - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ OpenSearch
```

